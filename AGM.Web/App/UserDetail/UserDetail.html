<a id="reportTop" class="reportTop"></a>
<div class="breadcrumb hidden-xs hidden-sm" style="display: table;">
    <div class="pageHeader_pageTitle">
        <span>Profilo</span>
        <span class="pageHeader_subtitle">profilo utente</span>
    </div>
    <div class="pageHeader_breadCrumb"><a class="pageHeader_breadCrumbLink" ui-sref="Index">Home</a> > Profilo</div>
</div>
<div class="monthlyRep" style="margin: -10px -15px;" ng-cloak>
    <div class="hidden-print mr_affixToolContainer" role="complementary" data-offset-top="235" bs-affix ng-hide="applicationGlobals.showMainMenu">
        <div class="container container-header">
            <i class="fa fa-arrow-circle-o-left signAffix" ng-show="backToUsersVisible" ng-click="backToUsers()"></i>
            <i class="fa fa-trash-o signAffix" ng-show="deleteUserVisible" ng-click="deleteUser()"></i>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="userDetail-detail">
        <div class="hidden-xs hidden-sm">
            <div style="display:inline-block">
                <i class="fa fa-arrow-circle-o-left sign" ng-show="backToUsersVisible" ng-click="backToUsers()"></i>
            </div>
            <div class="toolContainer" style="display:inline-block">
                <i class="fa fa-trash-o sign" ng-show="deleteUserVisible" ng-click="deleteUser()"></i>
            </div>
        </div>
        <form name="profileForm" novalidate>
            <fieldset class="col-xs-12 col-sm-4 form-group">
                <div class="fileDropAreaAvatar" style="margin: 0 0 20px;">
                    <div class="fileUpload uploadButton">
                        <i class="fa fa-upload" style="font-size:20px;margin:5px;"></i>
                        <!--<span style="font-size:0.8em;">Cambia...</span>-->
                        <input type="file" name="file" accept="image/*" class="custom-file-input" nv-file-select uploader="uploader" filters="sizeFilter">
                    </div>
                    <img ng-src="{{user.imagesss}}" alt="" />
                </div>
                <div class="functionList" ng-show="currentUser.sectionusersvisible">
                    <label>Attivo</label>
                    <input type="checkbox" ng-model="user._isactive" toggle-switch>
                    <div class="clearfix"></div>
                </div>
                <div class="functionList" ng-show="currentUser.sectionusersvisible">
                    <label>ID Export</label>
                    <input type="number" class="form-control" ng-model="user.idexport">
                    <div class="clearfix"></div>
                </div>
                <label class="profileFormLabel">Email</label><input required class="form-control" type="email" placeholder="Email" ng-model="user.email" maxlength="100" />
                <label class="profileFormLabel">Cognome</label><input required class="form-control" type="text" placeholder="Cognome" ng-model="user.lastname" maxlength="50" />
                <label class="profileFormLabel">Nome</label><input required class="form-control" type="text" placeholder="Nome" ng-model="user.firstname" maxlength="50" />
                <label class="profileFormLabel">Password</label><input required class="form-control" type="text" placeholder="Password" ng-model="user.password" maxlength="50" />
                <br />
                <div class="functionList" ng-show="currentUser.sectionusersvisible">
                    <label>Gestione utenti</label>
                    <input type="checkbox" ng-model="user._sectionusersvisible" toggle-switch>
                    <div class="clearfix"></div>
                </div>
                <div class="functionList" ng-show="currentUser.sectionusersvisible">
                    <label>Gestione rapportini</label>
                    <input type="checkbox" ng-model="user._sectionmonthlyreportsvisible" toggle-switch>
                    <div class="clearfix"></div>
                </div>
                <div class="functionList" ng-show="currentUser.sectionusersvisible">
                    <label>Gestione annunci</label>
                    <input type="checkbox" ng-model="user._sectionjobadsvisible" toggle-switch>
                    <div class="clearfix"></div>
                </div>
                <div class="functionList" ng-show="currentUser.sectionusersvisible">
                    <label>Gestione candidati</label>
                    <input type="checkbox" ng-model="user._sectionjobapplicantsvisible" toggle-switch>
                    <div class="clearfix"></div>
                </div>

                <div ng-show="retItemsVisible">
                    <div class="clearfix" style="margin: 5px 0;"></div>
                    <div>
                        <h4 style="float: left;">
                            <i class="fa settingsSectionTitleCaret" ng-click="isRetributionItemConfCollapsed = !isRetributionItemConfCollapsed" ng-class="{'fa-caret-right': isRetributionItemConfCollapsed, 'fa-caret-down': !isRetributionItemConfCollapsed}"></i>
                            Voci retributive
                        </h4>
                        <div class="clearfix"></div>
                    </div>
                    <hr />
                    <div collapse="isRetributionItemConfCollapsed">
                        <div class="functionList" ng-show="currentUser.sectionusersvisible" ng-repeat="item in user.retributionitemconfiguration">
                            <label ng-bind="retributionItemTypeEnumNames[item.type]"></label>
                            <input type="checkbox" ng-model="user.retributionitemconfiguration[$index].enablevalue" toggle-switch>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group bottomButton">
                    <button ng-hide="profileForm.$invalid || userExists===true" class="btn btn-info" ng-click="save()">Salva</button>
                    <button ng-show="profileForm.$invalid || userExists===true" class="btn btn-info" disabled="disabled">Salva</button>
                </div>
            </fieldset>
        </form>
    </div>
</div>
